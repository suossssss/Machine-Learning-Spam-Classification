 guido i meant to sai that thei were number number clue cancel out by number number clue but that s wrong too it look i haven t grok thi part of your code yet thi on ha wai more than number clue and it seem the classifi basic end up count wai more number number than number number clue and no other made it into the list i thought it wa look for clue with valu in between appar it found none that weren t exactli number number there s a brief discuss of thi befor the definit of max discrimin all clue with prob min spamprob and max spamprob ar save in min and max list and all other clue ar fed into the nbest heap then the shorter of the min and max list cancel out the same number of clue in the longer list whatev remain of the longer list if anyth is then fed into the nbest heap too but no more than max discrimin of them in no case do more than max discrimin clue enter into the final probabl calcul but all of the min and max list go into the list of clue els you d have no clue that massiv cancel wa occur and massiv cancel mai yet turn out to be a hook to signal that manual review is need in your specif case the excess of clue in the longer max spamprob list push everyth els out of the nbest heap and that s why you didn t see anyth other than number number and number number befor ad these special list the outcom when face with mani number number and number number clue wa too often a coin toss whichev flavor just happen to appear max discrimin number number time first determin the final outcom that sure set the record for longest list of cancel extrem clue thi happen to be the longest on but there were quit a few similar on i just beat it a token scheme that fold case and ignor punctuat and strip a trail s from word and save both word bigram and word unigram turn up a low probabl veri long spam with a list of number number number clue and number number number clue yike i wonder if there s anyth we can learn from look at the clue and the html it wa heavili mark up html with ad in the sidebar but the bodi text wa a seriou discuss of oo and soft code with lot of highli technic word as clue includ zope and zeo no matter how often it sai zope it get onli on number number clue from do so ditto for zeo in contrast html markup ha mani uniqu word that get number number btw thi is a clear case where the assumpt of condition independ word probabl is utterli bogu e g the probabl that appear in a messag is highli correl with the prob of appear by treat them as independ naiv bay grossli misjudg the probabl that both appear and the onli thing you get in return is someth that can actual be comput read the what about html section in token py from the veri start i ve been investig what would work best for the mail list host at python org and html decor have so far been too strong a clue to justifi ignor it in that specif context i haven t done anyth gear toward person email includ the case of non mail list email that happen to go through python org i d prefer to strip html tag from everyth but last time i tri that it still had bad effect on the error rate in my corpora the full test result with and without html tag strip is includ in the what about html comment block but as the comment block also sai xxx so if anoth wai is found to slash the f n rate the decis here xxx not to strip html from html onli msg should be revisit and we ve sinc done sever thing that gave signific f n rate reduct i should test that again now ar there ani minabl but unmin header line in your corpu left almost all of them apart from mime decor that appear in both header and bodi like content type the onli header line the base token look at now ar subject from x mailer and organ or do we have to start with a differ corpu befor we can make progress there i would need differ data ye my ham is too pollut with mailman header decor which i mai or mai not be abl to clean out but fudg the data is a mortal sin and i haven t chang a byte so far and my spam too pollut with header clue about the fellow who collect it in particular i have to skip to and receiv header now and i suspect thei re go to be veri valuabl in real life for exampl i don t even catch undisclos recipi in the to header now no sorri these were all of the follow structur multipart mix text plain brief text plu url s text html long html copi from websit ah that explain why the html tag didn t get strip i d again offer to add an option argument to token so that thei d get strip here too but if it get gloss over a third time that would feel too much like a loss thi seem confus jeremi didn t us my train classifi pickl he train hi own classifi from scratch on hi own corpora i think it s still corpu size i report on test i ran with random sampl of number spam and number ham from my corpu that mean train on set of those size as well as predict on set of those size and while that did harm the error rate the error rate i saw were still much better than jeremi report when us number of each ah a full test run just finish on the token scheme that fold case and ignor punctuat and strip a trail s from word and save both word bigram and word unigram thi is the code token everyth in the bodi lastw for w in word re findal text n len w make sure thi rang match in token word if number n number lastw for t in token word w yield t where word re re compil r wdollar xnumber xff thi at least doubl the process size over what s done now it help the f n rate significantli but probabl hurt the f p rate the f p rate is too low with onli number ham per run to be confid about chang of such small absolut magnitud number number is a singl messag in the f p tabl fals posit percentag number number number number ti number number number number lost wa number number number number number lost number number number number number number won number number number number number number won number number number number number number lost wa number number number number number lost number number number number number number ti number number number number lost number number number number number number won number number number number number number lost number number number number number number won number number number number number number ti number number number number lost wa number number number number number lost wa number number number number number won number number number number number number lost number number number number number number ti number number number number lost number number number number number number lost number number won number time ti number time lost number time total uniqu fp went from number to number fals neg percentag number number number number won number number number number number number won number number number number number number won number number number number number number ti number number number number won number number number number number number won number number number number number number lost number number number number number number won number number number number number number won number number number number number number won number number number number number number won number number number number number number won number number number number number number won number number number number number number won number number number number number number won number number number number number number won number number number number number number lost number number number number number number ti number number number number won number number number number number number lost number number won number time ti number time lost number time total uniqu fn went from number to number
